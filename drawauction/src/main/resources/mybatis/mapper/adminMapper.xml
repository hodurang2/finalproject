<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.gdu.drawauction.dao.AdminMapper">


	
	<select id="getUserList" parameterType="Map" resultType="UserDto">
    SELECT USER_NO, EMAIL, NAME, MOBILE, AGREE, STATE, JOINED_AT, NICKNAME, NUM
      FROM  (SELECT ROW_NUMBER() OVER(ORDER BY USER_NO DESC) AS RN, ROW_NUMBER() OVER(ORDER BY USER_NO ASC) AS NUM, USER_NO, EMAIL, NAME, MOBILE, AGREE, STATE, JOINED_AT, NICKNAME 
               FROM USER_T)
     WHERE RN BETWEEN #{begin} AND #{end}
  </select>
	
	
	<!--전체 계정 가져오기 admin01@naver.com제외-->
	<select id="getUserCount" resultType="int">
		SELECT COUNT(*)
		  FROM USER_T
	</select>
	
	
	<select id="getUser" parameterType="int" resultType="UserDto">
		SELECT USER_NO, EMAIL, NAME, MOBILE, AGREE, STATE, JOINED_AT, NICKNAME
		  FROM USER_T
		 WHERE USER_NO = #{userNo}
	</select>
	
	
	<!--유저 삭제-->
	<delete id="deleteUser" parameterType="int">
		DELETE 
		  FROM USER_T
		 WHERE USER_NO = #{userNo}
	</delete>
	
	

</mapper>